// Gridset Overlay JS
gs={init:function(){window.location.href.match("gridset=show")&&gs.show();gs.bind(document,"keydown",function(e){if(!e)var e=window.event;if(e.metaKey||e.ctrlKey)switch(e.which||e.keyCode){case 71:var t=document.getElementById("gridsetoverlaywrap");t?gs.remove(t):gs.show();gs.prevent(e)}})},removeQuotes:function(e){if(typeof e=="string"||e instanceof String)e=e.replace(/^['"]+|\s+|\\|(;\s?})+|['"]$/g,"");return e},getColJSON:function(){var e=null;if(window.getComputedStyle&&window.getComputedStyle(document.body,":before")){e=window.getComputedStyle(document.body,"::before");e=e.content}return JSON.parse(gs.removeQuotes(e))},countProperties:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&++t;return t},remove:function(e){document.body.removeChild(e);window.detachEvent?window.detachEvent("onresize",gs.width):window.removeEventListener("resize",gs.width,!1)},width:function(){var e=document.getElementById("gridscreenwidthval");e&&(e.innerHTML=window.innerWidth+"px")},show:function(){var e=gs.getColJSON(),t=[],n=[],r=[],i=document.getElementsByTagName("body")[0],s='<div id="gridwrap"><div id="gridscreenwidthwrap"><p id="gridscreenwidth">Screen width: <strong id="gridscreenwidthval"></strong></p></div><div id="gridoverlay" class="wrapper">',o=0,u="";for(var a in e)if(e.hasOwnProperty(a)){t.push(a);n.push(gs.countProperties(e[a].cols));e[a].queryMin?r.push(e[a].queryMin):r.push(0)}while(t[o]){var f="",l=0;r[o]!=u&&o==0?s+="<div>":r[o]!=u&&(s+="</div><div>");while(t[l]){l!=o&&r[l]!=r[o]&&(f+=t[l]+"-hide ");l++}s+='<div class="gridset '+f+'"><div class="'+t[o]+'1"><small>'+t[o]+"1</small></div>";var c=1;while(c++<n[o])s+='<div class="'+t[o]+c+'"><small>'+t[o]+c+"</small></div>";s+="</div>";o==r.length-1&&(s+="</div>");u=r[o];o++}s+="</div></div>";var h=document.createElement("div");h.id="gridsetoverlaywrap";h.innerHTML=s;i.appendChild(h);gs.width();gs.bind(window,"resize",gs.width)},bind:function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},prevent:function(e){e.preventDefault?e.preventDefault():event.returnValue=!1}};gs.init();